<div class="layui-form-item">
  <label class="layui-form-label">
    <span class="x-red">*</span>巡视日期
  </label>
  <div class="layui-input-inline">
    <input type="text" value="{$model.patrol_date}" name="patrol_date" id="patrol_date" datatype="*" autocomplete="off" class="layui-input">
  </div>
  <div class="layui-form-mid layui-word-aux w100">
    <span class="Validform_checktip">请选择巡视日期</span>
  </div>
</div>

<div class="layui-form-item">
  <label class="layui-form-label">
    <span class="x-red">*</span>巡视人员一
  </label>
  <div class="layui-input-inline">
    <select name="worker1" datatype="*" id="worker1" lay-search>
      <option value="">无</option>
      {foreach name="worker_list" item="item"}
        <option value="{$item.key}" {eq name="model.worker1" value="$item['key']" } selected="selected" {/eq}>{$item.key}</option>
      {/foreach}
    </select>
  </div>
  <div class="layui-form-mid layui-word-aux w100">
    <span class="Validform_checktip">请选择巡视人员</span>
  </div>
</div>

<div class="layui-form-item">
  <label class="layui-form-label">
    <span class="x-red">*</span>巡视人员二
  </label>
  <div class="layui-input-inline">
    <select name="worker2" datatype="*" id="worker2" lay-search>
      <option value="">无</option>
      {foreach name="worker_list" item="item"}
        <option value="{$item.key}" {eq name="model.worker2" value="$item['key']" } selected="selected" {/eq}>{$item.key}</option>
      {/foreach}
    </select>
  </div>
  <div class="layui-form-mid layui-word-aux w100">
    <span class="Validform_checktip">请选择巡视人员</span>
  </div>
</div>

<div class="layui-form-item">
  <label class="layui-form-label">
    <span class="x-red">*</span>时间
  </label>
  <div class="layui-input-inline">
    <input type="text" value="{$model.patrol_time}" name="patrol_time" id="patrol_time" datatype="*" autocomplete="off" class="layui-input">
  </div>
  <div class="layui-form-mid layui-word-aux w100">
    <span class="Validform_checktip ">请选择时间</span>
  </div>
</div>

<div class="layui-form-item">
  <label class="layui-form-label">
    <span class="x-red">*</span>区域
  </label>
  <div class="layui-input-inline">
    <select name="area" id="area" datatype="*" lay-search>
      <option value="">无</option>
      {foreach name="area_list" item="item"}
        <option value="{$item.key}" {eq name="model.area" value="$item['key']" } selected="selected" {/eq}>{$item.key}</option>
      {/foreach}
    </select>
  </div>
  <!--<div class="layui-form-mid layui-word-aux w100">-->
    <!--<span class="Validform_checktip">请选择区域</span>-->
  <!--</div>-->
  <div class="layui-form-mid layui-word-aux w100">
    <a style="color:#1E9FFF;cursor: pointer" onclick="x_admin_show('添加鸟情区域','{:url('BirdArea/add')}')">新增区域</a>
  </div>
</div>

<div class="layui-form-item">
  <label class="layui-form-label">
    <span class="x-red">*</span>鸟名
  </label>
  <div class="layui-input-inline">
    <select name="bird_name" id="bird_name" datatype="*" lay-search>
        <option value="">无</option>
        {foreach name="bird_name_list" item="item"}
            <option value="{$item.key}" {eq name="model.bird_name" value="$item['key']" } selected="selected" {/eq}>{$item.key}</option>
        {/foreach}
    </select>
  </div>
  <div class="layui-form-mid layui-word-aux w100">
    <span class="Validform_checktip">请选择鸟名</span>
  </div>
</div>

<div class="layui-form-item">
  <label class="layui-form-label">
    <span class="x-red">*</span>数量
  </label>
  <div class="layui-input-inline">
    <input type="text" value="{$model.bird_num}" name="bird_num" id="bird_num" datatype="*" autocomplete="off" class="layui-input">
  </div>
  <div class="layui-form-mid layui-word-aux w100">
    <span class="Validform_checktip ">请填写数量</span>
  </div>
</div>

<div class="layui-form-item">
  <label class="layui-form-label">
    <span class="x-red">*</span>高度
  </label>
  <div class="layui-input-inline">
    <select name="height" id="height" datatype="*" lay-search>
      <option value="">无</option>
      {foreach name="bird_seize_height_list" item="item"}
        <option value="{$item.value}" {eq name="model.height" value="$item['value']" } selected="selected" {/eq}>{$item.value}</option>
      {/foreach}
    </select>
  </div>
  <div class="layui-form-mid layui-word-aux w100">
    <span class="Validform_checktip">请选择高度</span>
  </div>
</div>

{foreach name="renderHTML" item="item"}{$item}{/foreach}


<div class="layui-form-item">
  <label class="layui-form-label">
    <span class="x-red">*</span>录入人员
  </label>
  <div class="layui-input-inline">
    <select name="aid" datatype="*" id="aid" lay-search>
      <option value="">无</option>
      {foreach name="entering_list" item="item"}
        <option value="{$item.key}" {eq name="model.aid" value="$item['key']" } selected="selected" {/eq}>{$item.value}</option>
      {/foreach}
    </select>
  </div>
  <div class="layui-form-mid layui-word-aux w100">
    <span class="Validform_checktip">请选择录入人员</span>
  </div>
</div>

<div class="layui-form-item layui-form-text">
  <label class="layui-form-label">备注</label>
  <div class="layui-input-inline w300">
    <textarea id="remarks" name="remarks" placeholder="请输入备注" class="layui-textarea h100">{$model.remarks}</textarea>
  </div>
</div>

<div class="layui-form-item">
  <label class="layui-form-label"></label>
  <button class="layui-btn" type="submit">提交</button>
</div>

<script>
  layui.use('laydate', function() {
    var laydate = layui.laydate;
    laydate.render({ elem: '#patrol_date', format: 'yyyy/M/d' });
    laydate.render({ elem: '#patrol_time', type: 'time', format: "H:mm" });
  });
</script>

<script>
  $(function() {
    $(".mainform").Validform({
      tiptype: function(msg, o, cssctl) {
        if(!o.obj.is("form")){
          var objtip = o.obj.parent().siblings(".layui-word-aux").children(".Validform_checktip");
          cssctl(objtip, o.type);
          objtip.html(msg);
        }
        else{
          var objtip = o.obj.find("#msgdemo");
          cssctl(objtip, o.type);
          objtip.html(msg);
        }
      },
      ajaxPost: true,
      callback: function(data) {
        if(data.code == 1){
          layer.alert(data.msg, { icon: 6 }, function() {
            var index = parent.layer.getFrameIndex(window.name);
            parent.location.reload();
            parent.layer.close(index);
          });
        }
        else{
          msgFaild(data.msg);
        }
      }
    });
  });
</script>

<style>
  .laydate-time-list{padding-bottom:0;overflow:hidden}
  .laydate-time-list>li{width:50%!important;}
  .laydate-time-list>li:last-child { display: none;}
</style>
